{% macro event(start_time, end_time, events, general_location) -%}
<section class="event">
  <time class="event__time">
    {{ start_time.strftime('%H:%M') }} <br> {{ end_time.strftime('%H:%M') }}
  </time>
  <ul class="event__subjects-container">
  {%- for (name, event_format, is_canceled), subjects in events | events_group_by('main_info') %}
    <li class="subject">
      <header class="subject__header">
        <h2 class="subject__header__name">
          {{ "<s>" * is_canceled }}{{ name }}{{ "</s>" * is_canceled }}
        </h2>
        <p class="subject__header__type">{{ event_format }}</p>
      </header>
      <ul class="subject__annotations-container">
      {%- for subject in subjects %}
        <li class="annotation">
          <p class="annotation__location">
            {% if general_location %} каб.{% endif %} {{ subject.location | replace(';', '<br>') }}
          </p>
          <p class="annotation__teacher">{{ subject.contingent }}</p>
        </li>
      {%- endfor %}
      </ul>
    </li>
  {%- endfor %}
  </ul>
</section>
{%- endmacro %}
